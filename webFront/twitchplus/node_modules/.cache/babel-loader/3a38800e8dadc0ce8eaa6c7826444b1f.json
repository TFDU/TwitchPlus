{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"D:/projects/TwitchPlus/webFront/twitchplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _inherits from\"D:/projects/TwitchPlus/webFront/twitchplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/projects/TwitchPlus/webFront/twitchplus/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Button,Col,Layout,Menu,message,Row}from'antd';import Login from'./components/Login';import Register from'./components/Register';import{getFavoriteItem,getRecommendations,getTopGames,logout,searchGameById}from'./utils';import Favorites from'./components/Favorites';import{LikeOutlined,FireOutlined}from'@ant-design/icons';import CustomSearch from'./components/CustomSearch';import SubMenu from'antd/lib/menu/SubMenu';import Home from'./components/Home';var Header=Layout.Header,Content=Layout.Content,Sider=Layout.Sider;var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loggedIn:false,topGames:[],resources:{VIDEO:[],STREAM:[],CLIP:[]},favoriteItems:{VIDEO:[],STREAM:[],CLIP:[]}};_this.favoriteOnChange=function(){getFavoriteItem().then(function(data){_this.setState({favoriteItems:data,loggedIn:true});}).catch(function(err){message.error(err.message);});};_this.onGameSelect=function(_ref){var key=_ref.key;if(key==='Recommendation'){getRecommendations().then(function(data){_this.setState({resources:data});});return;}searchGameById(key).then(function(data){_this.setState({resources:data});});};_this.customSearchOnSuccess=function(data){_this.setState({resources:data});};_this.signinOnSuccess=function(){getFavoriteItem().then(function(data){_this.setState({favoriteItems:data,loggedIn:true});}).catch(function(err){message.error(err.message);});};_this.signoutOnClick=function(){logout().then(function(){_this.setState({loggedIn:false});message.success(\"Successfull signed out\");}).catch(function(err){message.error(err.message);});};_this.componentDidMount=function(){getTopGames().then(function(data){_this.setState({topGames:data});}).catch(function(err){message.error(err.message);});};_this.render=function(){return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsxs(Row,{justify:\"space-between\",children:[/*#__PURE__*/_jsx(Col,{children:_this.state.loggedIn&&/*#__PURE__*/_jsx(Favorites,{data:_this.state.favoriteItems})}),/*#__PURE__*/_jsx(Col,{children:_this.state.loggedIn?/*#__PURE__*/_jsx(Button,{shape:\"round\",onClick:_this.signoutOnClick,children:\"Logout\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Login,{onSuccess:_this.signinOnSuccess}),/*#__PURE__*/_jsx(Register,{})]})})]})}),/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Sider,{width:300,className:\"site-layout-background\",children:[/*#__PURE__*/_jsx(CustomSearch,{onSuccess:_this.customSearchOnSuccess}),/*#__PURE__*/_jsxs(Menu,{mode:\"inline\",onSelect:_this.onGameSelect,style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(Menu.Item,{icon:/*#__PURE__*/_jsx(LikeOutlined,{}),children:\"Recommend for you!\"},\"Recommendation\"),/*#__PURE__*/_jsx(SubMenu,{icon:/*#__PURE__*/_jsx(FireOutlined,{}),title:\"Popular Games\",className:\"site-top-game-list\",children:_this.state.topGames.map(function(game){return/*#__PURE__*/_jsxs(Menu.Item,{style:{height:'50px'},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Placeholder\",src:game.box_art_url.replace('{height}','40').replace('{width}','40'),style:{borderRadius:'50%',marginRight:'20px'}}),/*#__PURE__*/_jsx(\"span\",{children:game.name})]},game.id);})},\"Popular Games\")]})]}),/*#__PURE__*/_jsx(Layout,{style:{padding:'24px'},children:/*#__PURE__*/_jsx(Content,{className:\"site-layout-background\",style:{padding:24,margin:0,height:800,overflow:'auto'},children:/*#__PURE__*/_jsx(Home,{resources:_this.state.resources,loggedIn:_this.state.loggedIn,favoriteItems:_this.state.favoriteItems,favoriteOnChange:_this.favoriteOnChange})})})]})]});};return _this;}return App;}(React.Component);export default App;","map":{"version":3,"sources":["D:/projects/TwitchPlus/webFront/twitchplus/src/App.js"],"names":["React","Button","Col","Layout","Menu","message","Row","Login","Register","getFavoriteItem","getRecommendations","getTopGames","logout","searchGameById","Favorites","LikeOutlined","FireOutlined","CustomSearch","SubMenu","Home","Header","Content","Sider","App","state","loggedIn","topGames","resources","VIDEO","STREAM","CLIP","favoriteItems","favoriteOnChange","then","data","setState","catch","err","error","onGameSelect","key","customSearchOnSuccess","signinOnSuccess","signoutOnClick","success","componentDidMount","render","marginTop","map","game","height","box_art_url","replace","borderRadius","marginRight","name","id","padding","margin","overflow","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Col, Layout, Menu, message, Row } from 'antd';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { getFavoriteItem, getRecommendations, getTopGames, logout, searchGameById } from './utils';\nimport Favorites from './components/Favorites';\nimport { LikeOutlined, FireOutlined } from '@ant-design/icons';\nimport CustomSearch from './components/CustomSearch';\nimport SubMenu from 'antd/lib/menu/SubMenu';\nimport Home from './components/Home';\n \nconst { Header, Content, Sider } = Layout;\n \nclass App extends React.Component {\n  state = {\n    loggedIn: false,\n    topGames: [],\n    resources: {\n      VIDEO: [],\n      STREAM: [],\n      CLIP: [],\n    },\n    favoriteItems: {\n      VIDEO: [],\n      STREAM: [],\n      CLIP: [],\n    },\n  }\n \n  favoriteOnChange = () => {\n    getFavoriteItem().then((data) => {\n      this.setState({\n        favoriteItems: data,\n        loggedIn: true\n      })\n    }).catch((err) => {\n      message.error(err.message);\n    })\n  }\n \n  onGameSelect = ({ key }) => {\n    if (key === 'Recommendation') {\n      getRecommendations().then((data) => {\n        this.setState({\n          resources: data,\n        })\n      })\n \n      return;\n    }\n \n    searchGameById(key).then((data) => {\n      this.setState({\n        resources: data,\n      })\n    })\n  }\n \n  customSearchOnSuccess = (data) => {\n    this.setState({\n      resources: data,\n    })\n  }\n \n  signinOnSuccess = () => {\n    getFavoriteItem().then((data) => {\n      this.setState({\n        favoriteItems: data,\n        loggedIn: true\n      })\n    }).catch((err) => {\n      message.error(err.message);\n    })\n  }\n \n  signoutOnClick = () => {\n    logout()\n      .then(() => {\n        this.setState({\n          loggedIn: false\n        })\n        message.success(`Successfull signed out`);\n      }).catch((err) => {\n        message.error(err.message);\n      })\n  }\n \n  componentDidMount = () => {\n    getTopGames()\n      .then((data) => {\n        this.setState({\n          topGames: data\n        })\n      })\n      .catch((err) => {\n        message.error(err.message);\n      })\n  }\n \n  render = () => (\n    <Layout>\n      <Header>\n        <Row justify=\"space-between\">\n            <Col>\n              {\n                this.state.loggedIn &&\n                <Favorites data={this.state.favoriteItems} />\n              }\n            </Col>\n            <Col>\n              {\n                this.state.loggedIn ? \n                <Button shape=\"round\" onClick={this.signoutOnClick}>\n                  Logout</Button> :\n                (\n                  <>\n                    <Login onSuccess={this.signinOnSuccess} />\n                    <Register />\n                  </>\n                )\n              }\n            </Col>\n          </Row>\n      </Header>\n      <Layout>\n        <Sider width={300} className=\"site-layout-background\">\n          <CustomSearch onSuccess={this.customSearchOnSuccess} />\n          <Menu\n            mode=\"inline\"\n            onSelect={this.onGameSelect}\n            style={{ marginTop: '10px' }}\n          >\n            <Menu.Item icon={<LikeOutlined />} key=\"Recommendation\">\n              Recommend for you!</Menu.Item>\n            <SubMenu icon={<FireOutlined />} key=\"Popular Games\" title=\"Popular Games\" className=\"site-top-game-list\">\n              {\n                this.state.topGames.map((game) => {\n                  return (\n                    <Menu.Item key={game.id} style={{ height: '50px' }}>\n                      <img \n                        alt=\"Placeholder\"\n                        src={game.box_art_url.replace('{height}', '40').replace('{width}', '40')}\n                        style={{ borderRadius: '50%', marginRight: '20px' }}\n                      />\n                      <span>\n                        {game.name}\n                      </span>\n                    </Menu.Item>\n                  )\n                })\n              }\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              height: 800,\n              overflow: 'auto'\n            }}\n          >\n            <Home \n              resources={this.state.resources} \n              loggedIn={this.state.loggedIn} \n              favoriteItems={this.state.favoriteItems} \n              favoriteOnChange={this.favoriteOnChange}\n            />\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n \nexport default App;"]},"metadata":{},"sourceType":"module"}