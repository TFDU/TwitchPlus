{"ast":null,"code":"// If you don't want to host your server code and client code together, you can \n// pay AWS to host your server with HTTPS then config the api url endpoints like below\n// const SERVER_ORIGIN = '<Your server's url>'; \nvar SERVER_ORIGIN='/jupiter';var loginUrl=\"\".concat(SERVER_ORIGIN,\"/login\");export var login=function login(credential){return fetch(loginUrl,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(credential)}).then(function(response){if(response.status!==200){throw Error('Fail to log in');}return response.json();});};var registerUrl=\"\".concat(SERVER_ORIGIN,\"/register\");export var register=function register(data){return fetch(registerUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)}).then(function(response){if(response.status!==200){throw Error('Fail to register');}});};var logoutUrl=\"\".concat(SERVER_ORIGIN,\"/logout\");export var logout=function logout(){return fetch(logoutUrl,{method:'POST',credentials:'include'}).then(function(response){if(response.status!==200){throw Error('Fail to log out');}});};var topGamesUrl=\"\".concat(SERVER_ORIGIN,\"/game\");export var getTopGames=function getTopGames(){return fetch(topGamesUrl).then(function(response){if(response.status!==200){throw Error('Fail to get top games');}return response.json();});};var getGameDetailsUrl=\"\".concat(SERVER_ORIGIN,\"/game?game_name=\");var getGameDetails=function getGameDetails(gameName){return fetch(\"\".concat(getGameDetailsUrl).concat(gameName)).then(function(response){if(response.status!==200){throw Error('Fail to find the game');}return response.json();});};var searchGameByIdUrl=\"\".concat(SERVER_ORIGIN,\"/search?game_id=\");export var searchGameById=function searchGameById(gameId){return fetch(\"\".concat(searchGameByIdUrl).concat(gameId)).then(function(response){if(response.status!==200){throw Error('Fail to find the game');}return response.json();});};export var searchGameByName=function searchGameByName(gameName){return getGameDetails(gameName).then(function(data){if(data&&data.id){return searchGameById(data.id);}throw Error('Fail to find the game');});};var favoriteItemUrl=\"\".concat(SERVER_ORIGIN,\"/favorite\");export var addFavoriteItem=function addFavoriteItem(favItem){return fetch(favoriteItemUrl,{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({favorite:favItem})}).then(function(response){if(response.status!==200){throw Error('Fail to add favorite item');}});};export var deleteFavoriteItem=function deleteFavoriteItem(favItem){return fetch(favoriteItemUrl,{method:'DELETE',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({favorite:favItem})}).then(function(response){if(response.status!==200){throw Error('Fail to delete favorite item');}});};export var getFavoriteItem=function getFavoriteItem(){return fetch(favoriteItemUrl,{credentials:'include'}).then(function(response){if(response.status!==200){throw Error('Fail to get favorite item');}return response.json();});};var getRecommendedItemsUrl=\"\".concat(SERVER_ORIGIN,\"/recommendation\");export var getRecommendations=function getRecommendations(){return fetch(getRecommendedItemsUrl,{credentials:'include'}).then(function(response){if(response.status!==200){throw Error('Fail to get recommended item');}return response.json();});};","map":{"version":3,"sources":["D:/projects/TwitchPlus/webFront/twitchplus/src/utils.js"],"names":["SERVER_ORIGIN","loginUrl","login","credential","fetch","method","headers","credentials","body","JSON","stringify","then","response","status","Error","json","registerUrl","register","data","logoutUrl","logout","topGamesUrl","getTopGames","getGameDetailsUrl","getGameDetails","gameName","searchGameByIdUrl","searchGameById","gameId","searchGameByName","id","favoriteItemUrl","addFavoriteItem","favItem","favorite","deleteFavoriteItem","getFavoriteItem","getRecommendedItemsUrl","getRecommendations"],"mappings":"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","sourcesContent":["// If you don't want to host your server code and client code together, you can \r\n// pay AWS to host your server with HTTPS then config the api url endpoints like below\r\n// const SERVER_ORIGIN = '<Your server's url>'; \r\nconst SERVER_ORIGIN = '/jupiter';\r\n \r\nconst loginUrl = `${SERVER_ORIGIN}/login`;\r\n \r\nexport const login = (credential) => {\r\n  return fetch(loginUrl, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify(credential)\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to log in');\r\n    }\r\n \r\n    return response.json();\r\n  })\r\n}\r\n \r\nconst registerUrl = `${SERVER_ORIGIN}/register`;\r\n \r\nexport const register = (data) => {\r\n  return fetch(registerUrl, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to register');\r\n    }\r\n  })\r\n}\r\n \r\nconst logoutUrl = `${SERVER_ORIGIN}/logout`;\r\n \r\nexport const logout = () => {\r\n  return fetch(logoutUrl, {\r\n    method: 'POST',\r\n    credentials: 'include',\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to log out');\r\n    }\r\n  })\r\n}\r\n \r\nconst topGamesUrl = `${SERVER_ORIGIN}/game`;\r\n \r\nexport const getTopGames = () => {\r\n  return fetch(topGamesUrl).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to get top games');\r\n    }\r\n \r\n    return response.json();\r\n  })\r\n}\r\n \r\nconst getGameDetailsUrl = `${SERVER_ORIGIN}/game?game_name=`;\r\n \r\nconst getGameDetails = (gameName) => {\r\n  return fetch(`${getGameDetailsUrl}${gameName}`).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to find the game');\r\n    }\r\n \r\n    return response.json();\r\n  });\r\n}\r\n \r\nconst searchGameByIdUrl = `${SERVER_ORIGIN}/search?game_id=`;\r\n \r\nexport const searchGameById = (gameId) => {\r\n  return fetch(`${searchGameByIdUrl}${gameId}`).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to find the game');\r\n    }\r\n    return response.json();\r\n  })\r\n}\r\n \r\nexport const searchGameByName = (gameName) => {\r\n  return getGameDetails(gameName).then((data) => {\r\n    if (data && data.id) {\r\n      return searchGameById(data.id);\r\n    }\r\n \r\n    throw Error('Fail to find the game')\r\n  })\r\n}\r\n \r\nconst favoriteItemUrl = `${SERVER_ORIGIN}/favorite`;\r\n \r\nexport const addFavoriteItem = (favItem) => {\r\n  return fetch(favoriteItemUrl, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ favorite: favItem })\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to add favorite item');\r\n    }\r\n  })\r\n}\r\n \r\nexport const deleteFavoriteItem = (favItem) => {\r\n  return fetch(favoriteItemUrl, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include',\r\n    body: JSON.stringify({ favorite: favItem })\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to delete favorite item');\r\n    }\r\n  })\r\n}\r\n \r\nexport const getFavoriteItem = () => {\r\n  return fetch(favoriteItemUrl, {\r\n    credentials: 'include',\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to get favorite item');\r\n    }\r\n \r\n    return response.json();\r\n  })\r\n}\r\n \r\nconst getRecommendedItemsUrl = `${SERVER_ORIGIN}/recommendation`;\r\n \r\nexport const getRecommendations = () => {\r\n  return fetch(getRecommendedItemsUrl, {\r\n    credentials: 'include',\r\n  }).then((response) => {\r\n    if (response.status !== 200) {\r\n      throw Error('Fail to get recommended item');\r\n    }\r\n \r\n    return response.json();\r\n  })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}